CREATE TABLE CIDADE(
	CIDCOD SERIAL NOT NULL,
	CIDNOME VARCHAR(200)NOT NULL,
	CONSTRAINT PK_CIDADE PRIMARY KEY(CIDCOD)
);

CREATE TABLE ZONA(
	ZONCOD SERIAL NOT NULL,
	ZONDESC VARCHAR(200)NOT NULL,
	ZONCIDCOD INTEGER NOT NULL,
	CONSTRAINT PK_ZONA PRIMARY KEY(ZONCOD),
	CONSTRAINT CID_FK FOREIGN KEY(ZONCIDCOD)REFERENCES CIDADE(CIDCOD)
);

CREATE TABLE BAIRRO(
	BAICOD SERIAL NOT NULL,
	BAINOME VARCHAR(200)NOT NULL,
	BAIZONCOD INTEGER NOT NULL,
	CONSTRAINT PK_BAIRRO PRIMARY KEY(BAICOD),
	CONSTRAINT ZONA_FK FOREIGN KEY(BAIZONCOD)REFERENCES ZONA(ZONCOD)
);

CREATE TABLE PRODUTO(
	PRODCOD SERIAL NOT NULL,
	PRODNOME VARCHAR(200)NOT NULL,
	PRODQTDE INTEGER NOT NULL,
	PRODVALOR DECIMAL NOT NULL,
	CONSTRAINT PROD_PK PRIMARY KEY(PRODCOD);
);



CREATE TABLE FUNCIONARIO(
	FUNCOD SERIAL NOT NULL,
	FUNNOME VARCHAR(200)NOT NULL,
	FUNBAICOD INTEGER NOT NULL,
	CONSTRAINT PK_FUNC PRIMARY KEY(FUNCOD),
	CONSTRAINT BAIRRO_FK FOREIGN KEY(FUNBAICOD)REFERENCES BAIRRO(BAICOD)
);

CREATE TABLE CLIENTE(
	CLICOD SERIAL NOT NULL,
	CLINOME VARCHAR(200)NOT NULL,
	CLIBAICOD INTEGER NOT NULL,
	CONSTRAINT PK_CLIENTE PRIMARY KEY(CLICOD),
	CONSTRAINT BAIRRO1_FK FOREIGN KEY(CLIBAICOD)REFERENCES BAIRRO(BAICOD)
);

CREATE TABLE PAGAMENTO(
	PAGCOD SERIAL NOT NULL,
	PAGDESC VARCHAR(40)NOT NULL UNIQUE,
	CONSTRAINT PK_PAG PRIMARY KEY(PAGCOD)
);

CREATE TABLE VENDA(
	VENDCOD SERIAL NOT NULL,
	VENDDATA DATE NOT NULL,
	STATUS BOOLEAN NOT NULL,
	VENCLICOD INTEGER NOT NULL,
	VENFUNCOD INTEGER NOT NULL,
	VENPAGCOD INTEGER NOT NULL,
	CONSTRAINT PK_VENDA PRIMARY KEY(VENDCOD),
	CONSTRAINT PAG_FK FOREIGN KEY(VENPAGCOD)REFERENCES PAGAMENTO(PAGCOD),
	CONSTRAINT CLIENTE_FK FOREIGN KEY(VENCLICOD)REFERENCES CLIENTE(CLICOD),
	CONSTRAINT FUNCIONARIO_FK FOREIGN KEY(VENFUNCOD)REFERENCES FUNCIONARIO(FUNCOD)
);

CREATE TABLE ITEMVENDA(
	ITVVENDCOD INTEGER NOT NULL,
	ITVPRODCOD INTEGER NOT NULL,
	QTDE INTEGER NOT NULL,
	CONSTRAINT PK_ITEMVENDA PRIMARY KEY(ITVVENDCOD, ITVPRODCOD),
	CONSTRAINT VENDA_FK FOREIGN KEY(ITVVENDCOD)REFERENCES VENDA(VENDCOD),
	CONSTRAINT PROD_FK FOREIGN KEY(ITVPRODCOD)REFERENCES PRODUTO(PRODCOD)
);
